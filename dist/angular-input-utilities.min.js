"use strict";angular.module("angular-input-utilities",[]).directive("alphaNumericOnly",["$parse",function(e){return{restrict:"A",require:"ngModel",link:function(t,i,n){t.$watch(n.ngModel,function(i,o){if(0!==i&&(null!==i||"undefined"==typeof i)){var a=i?i.toString().replace(/\W/g,""):"";e(n.ngModel).assign(t,a)}})}}}]),function(){angular.module("angular-input-utilities").directive("clearInput",["$compile","$timeout",function(e,t){function i(i,n,o,a){var r=e('<i ng-show="enabled" ng-mousedown="reset()" class="clear-input fa fa-close show-hide"></i>')(i);n.after(r),n.css("padding-right","25px"),i.reset=function(){a.$setViewValue(""),a.$render(),o.uiDate||t(function(){n[0].focus()},0,!1)},n.bind("mouseenter",function(){i.enabled=null!==a.$viewValue&&""!==a.$viewValue,i.$apply()}),n.parent().bind("mouseleave",function(){i.enabled=!1,i.$apply()}),n.bind("input",function(){i.enabled=null!==a.$viewValue&&""!==a.$viewValue})}return{restrict:"A",link:i,require:"ngModel",scope:{}}}])}(),function(){angular.module("angular-input-utilities").directive("checkboxList",[function(){return{restrict:"E",controller:"CheckboxListCtrl",controllerAs:"checkboxList",bindToController:!0,templateUrl:"app/sharedServices/input/checkbox-list/checkbox-list-tpl.html",scope:{items:"=items",isHierarchical:"=isHierarchical"}}}]).controller("CheckboxListCtrl",["$filter",function(e){function t(e,t){var i;if(e)for(i=t;i>=0;i--)n.items[i].selected=!0;else for(i=t;i<n.items.length;i++)n.items[i].selected=!1}function i(){var e=null;return angular.forEach(n.items,function(t){t.selected&&(e=!0)}),n.valid=e,!0}var n=this;n.hierarchyCheck=t,n.valid="",n.validationChecker=i}])}(),function(){angular.module("angular-input-utilities").directive("closeIcon",[function(){return{restrict:"E",scope:{showUncloseIcon:"=showUncloseIcon",closeTitle:"@closeTitle",uncloseTitle:"@uncloseTitle"},template:'<div class="close-icon-group" tooltip-popup-delay="1000" tooltip-append-to-body="true" tooltip="{{(showUncloseIcon) ? uncloseTitle : closeTitle}}"><i class="fa fa-close close-icon" ng-class="{\'un-close-icon\' : showUncloseIcon}"></i> </div>'}}])}(),function(){angular.module("angular-input-utilities").directive("multiSelectRow",["UniqueAnchor",function(e){return{restrict:"E",controller:"MultiSelectRowCtrl",controllerAs:"multiSelectRow",templateUrl:"app/sharedServices/input/multi-select-row/multi-select-row-tpl.html",bindToController:!0,scope:{multiSelectAttributes:"=multiSelectAttributes",dynamicAttributes:"=dynamicAttributes",rowTitle:"@rowTitle",multiSelectTitle:"@multiSelectTitle",removeFromSelectedCb:"=removeFromSelectedCb"},link:function(t,i,n){t.multiSelectRow.anchor=e.getUniqueAnchor(),$(i).find(".dropdown-menu").attr("id",angular.copy(t.multiSelectRow.anchor))}}}]).controller("MultiSelectRowCtrl",["$anchorScroll","$location","$scope","$q",function(e,t,i,n){function o(e){var t;angular.forEach(l.selectedOptions,function(i,n){i.id==e&&(t=n)}),void 0!==t&&l.selectedOptions.splice(t,1),l.removeFromSelectedCb&&l.removeFromSelectedCb({id:e})}function a(e){if(l.options){var t=_.findWhere(l.options,{id:e});return t?t.label:""}}function r(){var i=l.anchor;t.hash()!==i?t.hash(l.anchor):e()}var l=this;l.getSelectedOptionText=a,l.removeOptionFromSelectList=o,l.selectedOptions=[],l.goToOptions=r,l.extraSettings=l.multiSelectAttributes.extraSettings,l.translationTexts=l.multiSelectAttributes.translationTexts,l.events=l.multiSelectAttributes.events;var c=n.when(l.dynamicAttributes);c.then(function(e){l.options=e.options,l.selectedOptions=e.selectedModel})}])}(),function(){function e(){function e(){return"anchor"+t++}var t=0;return{getUniqueAnchor:e}}angular.module("angular-input-utilities").factory("UniqueAnchor",e)}(),function(){angular.module("angular-input-utilities").directive("focusOnStateLoad",[function(){function e(e,t,i){$(t).focus()}return{restrict:"A",link:e}}])}(),angular.module("angular-input-utilities").directive("posIntOnly",["$parse",function(e){return{restrict:"A",require:"ngModel",link:function(t,i,n){t.$watch(n.ngModel,function(i,o){if(0!==i&&(null!==i||"undefined"==typeof i)){if(!i)return void(""!==i&&e(n.ngModel).assign(t,o));var a="rank"===n.numberValidation?parseInt(i.toString().replace(/[^0-9]/g,"").slice(0,2)):parseInt(i.toString().replace(/[^0-9]/g),"");e(n.ngModel).assign(t,a)}})}}}]),function(){angular.module("angular-input-utilities").directive("saveButton",[function(){return{restrict:"E",controller:"SaveButtonCtrl",controllerAs:"saveButton",templateUrl:"app/sharedServices/input/saveButton/save-button-tpl.html",scope:{unsavedChangesTrigger:"=unsavedChangesTrigger",savingChangesTrigger:"=savingChangesTrigger",saveFn:"=saveFn"},bindToController:!0}}]).controller("SaveButtonCtrl",[function(){}])}(),function(){angular.module("angular-input-utilities").directive("selectAllOnFocus",[function(){function e(e,t,i){$(t).on("click",function(){$(this).select()})}return{restrict:"A",link:e}}])}(),function(){angular.module("angular-input-utilities").directive("utilTypeAhead",["$compile",function(e){function t(t,i,n,o){function a(){i.after(r),e(r)(t),$("html").bind("click",function(){$("#typeAheadBox").is(":active")||t.$apply(function(){t.showBox=!1})}),angular.element(i).bind("blur",function(){$("#typeAheadBox").is(":active")||t.$apply(function(){t.showBox=!1})}),angular.element(r).bind("blur",function(){t.$apply(function(){t.showBox=!1})}),t.$watch(function(){return o.$modelValue},function(e,i){e?(t.queryFn(e).then(function(e){t.items=e}),t.showBox=!0):t.showBox=!1})}var r=angular.element('<div id="typeAheadBox" class="type-ahead-box show-hide ng-hide" ng-show="showBox"><div ng-repeat="item in items"> <div>{{item.unitWard}}</div></div></div>');t.showBox=!1,a()}return{restrict:"A",link:t,require:"^ngModel",scope:{queryFn:"=queryFn"}}}])}(),function(){angular.module("angular-input-utilities").directive("typeaheadSelect",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(e,t,i,n,o,a,r,l,c){var u=[9,13,27,38,40],s=200;return{require:"ngModel",link:function(d,p,h,f){function v(){B.moveInProgress||(B.moveInProgress=!0,B.$digest()),L&&n.cancel(L),L=n(function(){B.matches.length&&m(),B.moveInProgress=!1,B.$digest()},s)}function m(){B.position=T?l.offset(p):l.position(p),B.position.top+=p.prop("offsetHeight")}var g=d.$eval(h.typeaheadMinLength);g||0===g||(g=1);var $,y,w=d.$eval(h.typeaheadWaitMs)||0,b=d.$eval(h.typeaheadEditable)!==!1,x=t(h.typeaheadLoading).assign||angular.noop,S=t(h.typeaheadOnSelect),I=angular.isDefined(h.typeaheadSelectOnBlur)?d.$eval(h.typeaheadSelectOnBlur):!1,A=h.typeaheadInputFormatter?t(h.typeaheadInputFormatter):void 0,T=h.typeaheadAppendToBody?d.$eval(h.typeaheadAppendToBody):!1,k=d.$eval(h.typeaheadFocusFirst)!==!1,M=t(h.ngModel).assign,C=c.parse(h.typeaheadSelect),B=d.$new();d.$on("$destroy",function(){B.$destroy()});var q="typeahead-"+B.$id+"-"+Math.floor(1e4*Math.random());p.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":q});var F=angular.element("<div typeahead-popup></div>");F.attr({id:q,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(h.typeaheadTemplateUrl)&&F.attr("template-url",h.typeaheadTemplateUrl);var O=function(){B.matches=[],B.activeIdx=-1,p.attr("aria-expanded",!1)},V=function(e){return q+"-option-"+e};B.$watch("activeIdx",function(e){0>e?p.removeAttr("aria-activedescendant"):p.attr("aria-activedescendant",V(e))});var U=function(e){var t={$viewValue:e};x(d,!0),i.when(C.source(d,t)).then(function(i){var n=e===f.$viewValue;if(n&&$)if(i&&i.length>0){B.activeIdx=k?0:-1,B.matches.length=0;for(var o=0;o<i.length;o++)t[C.itemName]=i[o],B.matches.push({id:V(o),label:C.viewMapper(B,t),model:i[o]});B.query=e,m(),p.attr("aria-expanded",!0)}else O();n&&x(d,!1)},function(){O(),x(d,!1)})};T&&(angular.element(a).bind("resize",v),o.find("body").bind("scroll",v));var L;B.moveInProgress=!1,O(),B.query=void 0;var E,P=function(e){E=n(function(){U(e)},w)},R=function(){E&&n.cancel(E)};p.bind("click",function(){$=!0,P("")}),f.$parsers.unshift(function(e){return $=!0,0===g||e.length>=g?w>0?(R(),P(e)):U(e):(x(d,!1),R(),O()),b?e:e?void f.$setValidity("editable",!1):(f.$setValidity("editable",!0),e)}),f.$formatters.push(function(e){var t,i,n={};return b||f.$setValidity("editable",!0),A?(n.$model=e,A(d,n)):(n[C.itemName]=e,t=C.viewMapper(d,n),n[C.itemName]=void 0,i=C.viewMapper(d,n),t!==i?t:e)}),B.select=function(e){var t,i,o={};y=!0,o[C.itemName]=i=B.matches[e].model,t=C.modelMapper(d,o),M(d,t),f.$setValidity("editable",!0),f.$setValidity("parse",!0),S(d,{$item:i,$model:t,$label:C.viewMapper(d,o)}),O(),n(function(){p[0].focus()},0,!1)},p.bind("keydown",function(e){if(0!==B.matches.length&&-1!==u.indexOf(e.which)&&(-1!==B.activeIdx||13!==e.which)){if(-1===B.activeIdx&&9===e.which)return O(),void B.$digest();e.preventDefault(),40===e.which?(B.activeIdx=(B.activeIdx+1)%B.matches.length,B.$digest()):38===e.which?(B.activeIdx=(B.activeIdx>0?B.activeIdx:B.matches.length)-1,B.$digest()):13===e.which||9===e.which?B.$apply(function(){B.select(B.activeIdx)}):27===e.which&&(e.stopPropagation(),O(),B.$digest())}}),p.bind("blur",function(){I&&B.matches.length&&-1!==B.activeIdx&&!y&&(y=!0,B.$apply(function(){B.select(B.activeIdx)})),$=!1,y=!1});var N=function(e){p[0]!==e.target&&3!==e.which&&(O(),r.$$phase||B.$digest())};o.bind("click",N),d.$on("$destroy",function(){o.unbind("click",N),T&&D.remove(),F.remove()});var D=e(F)(B);T?o.find("body").append(D):p.after(D)}}}])}();
//# sourceMappingURL=angular-input-utilities.min.js.map
