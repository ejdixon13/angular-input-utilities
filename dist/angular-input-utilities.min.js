"use strict";angular.module("angular-input-utilities",[]).directive("alphaNumericOnly",["$parse",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,i){t.$watch(i.ngModel,function(n,o){if(0!==n&&(null!==n||"undefined"==typeof n)){var a=n?n.toString().replace(/\W/g,""):"";e(i.ngModel).assign(t,a)}})}}}]),function(){angular.module("angular-input-utilities").directive("checkboxList",[function(){return{restrict:"E",controller:"CheckboxListCtrl",controllerAs:"checkboxList",bindToController:!0,templateUrl:"src/checkbox-list/checkbox-list-tpl.html",scope:{items:"=items",isHierarchical:"=isHierarchical"}}}]).controller("CheckboxListCtrl",["$filter",function(e){function t(e,t){var n;if(e)for(n=t;n>=0;n--)i.items[n].selected=!0;else for(n=t;n<i.items.length;n++)i.items[n].selected=!1}function n(){var e=null;return angular.forEach(i.items,function(t){t.selected&&(e=!0)}),i.valid=e,!0}var i=this;i.hierarchyCheck=t,i.valid="",i.validationChecker=n}])}(),function(){angular.module("angular-input-utilities").directive("closeIcon",[function(){return{restrict:"E",scope:{showUncloseIcon:"=showUncloseIcon",closeTitle:"@closeTitle",uncloseTitle:"@uncloseTitle"},template:'<div class="close-icon-group" tooltip-popup-delay="1000" tooltip-append-to-body="true" tooltip="{{(showUncloseIcon) ? uncloseTitle : closeTitle}}"><i class="fa fa-close close-icon" ng-class="{\'un-close-icon\' : showUncloseIcon}"></i> </div>'}}])}(),function(){angular.module("angular-input-utilities").directive("clearInput",["$compile","$timeout",function(e,t){function n(n,i,o,a){var l=e('<i ng-show="enabled" ng-mousedown="reset()" class="clear-input fa fa-close show-hide"></i>')(n);i.after(l),i.css("padding-right","25px"),n.reset=function(){a.$setViewValue(""),a.$render(),o.uiDate||t(function(){i[0].focus()},0,!1)},i.bind("mouseenter",function(){n.enabled=null!==a.$viewValue&&""!==a.$viewValue,n.$apply()}),i.parent().bind("mouseleave",function(){n.enabled=!1,n.$apply()}),i.bind("input",function(){n.enabled=null!==a.$viewValue&&""!==a.$viewValue})}return{restrict:"A",link:n,require:"ngModel",scope:{}}}])}(),function(){angular.module("angular-input-utilities").directive("focusOnStateLoad",[function(){function e(e,t,n){$(t).focus()}return{restrict:"A",link:e}}])}(),function(){angular.module("angular-input-utilities").directive("multiSelectRow",["UniqueAnchor",function(e){return{restrict:"E",controller:"MultiSelectRowCtrl",controllerAs:"multiSelectRow",templateUrl:"src/multi-select-row/multi-select-row-tpl.html",bindToController:!0,scope:{multiSelectAttributes:"=multiSelectAttributes",dynamicAttributes:"=dynamicAttributes",rowTitle:"@rowTitle",multiSelectTitle:"@multiSelectTitle",removeFromSelectedCb:"=removeFromSelectedCb"},link:function(t,n,i){t.multiSelectRow.anchor=e.getUniqueAnchor(),$(n).find(".dropdown-menu").attr("id",angular.copy(t.multiSelectRow.anchor))}}}]).controller("MultiSelectRowCtrl",["$anchorScroll","$location","$scope","$q",function(e,t,n,i){function o(e){var t;angular.forEach(s.selectedOptions,function(n,i){n.id==e&&(t=i)}),void 0!==t&&s.selectedOptions.splice(t,1),s.removeFromSelectedCb&&s.removeFromSelectedCb({id:e})}function a(e){if(s.options){var t=_.findWhere(s.options,{id:e});return t?t.label:""}}function l(){var n=s.anchor;t.hash()!==n?t.hash(s.anchor):e()}var s=this;s.getSelectedOptionText=a,s.removeOptionFromSelectList=o,s.selectedOptions=[],s.goToOptions=l,s.extraSettings=s.multiSelectAttributes.extraSettings,s.translationTexts=s.multiSelectAttributes.translationTexts,s.events=s.multiSelectAttributes.events;var c=i.when(s.dynamicAttributes);c.then(function(e){s.options=e.options,s.selectedOptions=e.selectedModel})}])}(),function(){function e(){function e(){return"anchor"+t++}var t=0;return{getUniqueAnchor:e}}angular.module("angular-input-utilities").factory("UniqueAnchor",e)}(),function(){angular.module("angular-input-utilities").directive("saveButton",[function(){return{restrict:"E",controller:"SaveButtonCtrl",controllerAs:"saveButton",templateUrl:"src/saveButton/save-button-tpl.html",scope:{unsavedChangesTrigger:"=unsavedChangesTrigger",savingChangesTrigger:"=savingChangesTrigger",saveFn:"=saveFn"},bindToController:!0}}]).controller("SaveButtonCtrl",[function(){}])}(),angular.module("angular-input-utilities").directive("posIntOnly",["$parse",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,i){t.$watch(i.ngModel,function(n,o){if(0!==n&&(null!==n||"undefined"==typeof n)){if(!n||isNaN(n))return void(""!==n&&void 0!==n&&null!==n&&e(i.ngModel).assign(t,o));var a="rank"===i.numberValidation?parseInt(n.toString().replace(/[^0-9]/g,"").slice(0,2)):parseInt(n.toString().replace(/[^0-9]/g),"");e(i.ngModel).assign(t,a)}})}}}]),function(){angular.module("angular-input-utilities").directive("selectAllOnFocus",[function(){function e(e,t,n){$(t).on("click",function(){$(this).select()})}return{restrict:"A",link:e}}])}(),function(){angular.module("angular-input-utilities").directive("utilTypeAhead",["$compile",function(e){function t(t,n,i,o){function a(){n.after(l),e(l)(t),$("html").bind("click",function(){$("#typeAheadBox").is(":active")||t.$apply(function(){t.showBox=!1})}),angular.element(n).bind("blur",function(){$("#typeAheadBox").is(":active")||t.$apply(function(){t.showBox=!1})}),angular.element(l).bind("blur",function(){t.$apply(function(){t.showBox=!1})}),t.$watch(function(){return o.$modelValue},function(e,n){e?(t.queryFn(e).then(function(e){t.items=e}),t.showBox=!0):t.showBox=!1})}var l=angular.element('<div id="typeAheadBox" class="type-ahead-box show-hide ng-hide" ng-show="showBox"><div ng-repeat="item in items"> <div>{{item.unitWard}}</div></div></div>');t.showBox=!1,a()}return{restrict:"A",link:t,require:"^ngModel",scope:{queryFn:"=queryFn"}}}])}(),function(){angular.module("angular-input-utilities").directive("typeaheadSelect",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(e,t,n,i,o,a,l,s,c){var r=[9,13,27,38,40],u=200;return{require:"ngModel",link:function(d,p,v,g){function h(){O.moveInProgress||(O.moveInProgress=!0,O.$digest()),V&&i.cancel(V),V=i(function(){O.matches.length&&m(),O.moveInProgress=!1,O.$digest()},u)}function m(){O.position=C?s.offset(p):s.position(p),O.position.top+=p.prop("offsetHeight")}var f=d.$eval(v.typeaheadMinLength);f||0===f||(f=1);var b,$,w=d.$eval(v.typeaheadWaitMs)||0,x=d.$eval(v.typeaheadEditable)!==!1,y=t(v.typeaheadLoading).assign||angular.noop,S=t(v.typeaheadOnSelect),T=angular.isDefined(v.typeaheadSelectOnBlur)?d.$eval(v.typeaheadSelectOnBlur):!1,k=v.typeaheadInputFormatter?t(v.typeaheadInputFormatter):void 0,C=v.typeaheadAppendToBody?d.$eval(v.typeaheadAppendToBody):!1,A=d.$eval(v.typeaheadFocusFirst)!==!1,I=t(v.ngModel).assign,B=c.parse(v.typeaheadSelect),O=d.$new();d.$on("$destroy",function(){O.$destroy()});var M="typeahead-"+O.$id+"-"+Math.floor(1e4*Math.random());p.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":M});var q=angular.element("<div typeahead-popup></div>");q.attr({id:M,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(v.typeaheadTemplateUrl)&&q.attr("template-url",v.typeaheadTemplateUrl);var R=function(){O.matches=[],O.activeIdx=-1,p.attr("aria-expanded",!1)},F=function(e){return M+"-option-"+e};O.$watch("activeIdx",function(e){0>e?p.removeAttr("aria-activedescendant"):p.attr("aria-activedescendant",F(e))});var L=function(e){var t={$viewValue:e};y(d,!0),n.when(B.source(d,t)).then(function(n){var i=e===g.$viewValue;if(i&&b)if(n&&n.length>0){O.activeIdx=A?0:-1,O.matches.length=0;for(var o=0;o<n.length;o++)t[B.itemName]=n[o],O.matches.push({id:F(o),label:B.viewMapper(O,t),model:n[o]});O.query=e,m(),p.attr("aria-expanded",!0)}else R();i&&y(d,!1)},function(){R(),y(d,!1)})};C&&(angular.element(a).bind("resize",h),o.find("body").bind("scroll",h));var V;O.moveInProgress=!1,R(),O.query=void 0;var U,N=function(e){U=i(function(){L(e)},w)},E=function(){U&&i.cancel(U)};p.bind("click",function(){b=!0,N("")}),g.$parsers.unshift(function(e){return b=!0,0===f||e.length>=f?w>0?(E(),N(e)):L(e):(y(d,!1),E(),R()),x?e:e?void g.$setValidity("editable",!1):(g.$setValidity("editable",!0),e)}),g.$formatters.push(function(e){var t,n,i={};return x||g.$setValidity("editable",!0),k?(i.$model=e,k(d,i)):(i[B.itemName]=e,t=B.viewMapper(d,i),i[B.itemName]=void 0,n=B.viewMapper(d,i),t!==n?t:e)}),O.select=function(e){var t,n,o={};$=!0,o[B.itemName]=n=O.matches[e].model,t=B.modelMapper(d,o),I(d,t),g.$setValidity("editable",!0),g.$setValidity("parse",!0),S(d,{$item:n,$model:t,$label:B.viewMapper(d,o)}),R(),i(function(){p[0].focus()},0,!1)},p.bind("keydown",function(e){if(0!==O.matches.length&&-1!==r.indexOf(e.which)&&(-1!==O.activeIdx||13!==e.which)){if(-1===O.activeIdx&&9===e.which)return R(),void O.$digest();e.preventDefault(),40===e.which?(O.activeIdx=(O.activeIdx+1)%O.matches.length,O.$digest()):38===e.which?(O.activeIdx=(O.activeIdx>0?O.activeIdx:O.matches.length)-1,O.$digest()):13===e.which||9===e.which?O.$apply(function(){O.select(O.activeIdx)}):27===e.which&&(e.stopPropagation(),R(),O.$digest())}}),p.bind("blur",function(){T&&O.matches.length&&-1!==O.activeIdx&&!$&&($=!0,O.$apply(function(){O.select(O.activeIdx)})),b=!1,$=!1});var P=function(e){p[0]!==e.target&&3!==e.which&&(R(),l.$$phase||O.$digest())};o.bind("click",P),d.$on("$destroy",function(){o.unbind("click",P),C&&H.remove(),q.remove()});var H=e(q)(O);C?o.find("body").append(H):p.after(H)}}}])}(),angular.module("angular-input-utilities").run(["$templateCache",function(e){e.put("src/checkbox-list/checkbox-list-tpl.html",'<div class="checkbox-list">\n    <div ng-if="checkboxList.isHierarchical" style="font-size: 13px" class="hide-on-disabled">(Restrictions are listed in hierarchical order. If a lower level restriction is selected, all higher level restrictions must also be selected.)</div>\n    <div class="checkbox" ng-repeat="item in checkboxList.items track by $index">\n        <input\n            id="restriction-{{$parent.$index+\'-\'+$index}}"\n            name="restriction-{{$index}}"\n            type="checkbox" ng-change="(checkboxList.isHierarchical) ? checkboxList.hierarchyCheck(item.selected, $index) : \'\'"\n            ng-model="item.selected">\n        <label>{{item.description}}</label>\n    </div>\n\n    <!--hidden input for validation purposes-->\n    <select class="validation-checkbox"\n            name="field_validation"\n            required\n            title="(Check at least one box.)"\n            ng-show="checkboxList.validationChecker()"\n            ng-options="item.id as item.description for item in [{id: 1, description: \'\'}]"\n            ng-model="checkboxList.valid"></select>\n</div>\n'),e.put("src/multi-select-row/multi-select-row-tpl.html",'<div class="row multi-select-row">\n    <div class="col-xs-10 row-item-data">\n        <div class="heading-6" style="margin-bottom: 5px">{{multiSelectRow.rowTitle}}</div>\n        <p ng-repeat="selectedOption in multiSelectRow.selectedOptions">\n            <close-icon id="removeMultiSelectionItem-{{$index}}" class="close-icon"\n                        ng-click="multiSelectRow.removeOptionFromSelectList(selectedOption.id)"></close-icon>\n            <span id="multiSelectedItemsText-{{$index}}" class="row-item-data-text">{{multiSelectRow.getSelectedOptionText(selectedOption.id)}}</span>\n        </p>\n        <p class="noneSelected" ng-if="multiSelectRow.selectedOptions.length == 0">\n            <strong>None selected</strong>\n        </p>\n    </div>\n    <div class="col-xs-2 multi-select-col">\n        <div class="multi-select-group">\n            <div class="multi-select-label">{{multiSelectRow.multiSelectTitle}}</div>\n            <div ng-dropdown-multiselect\n                 ng-click="multiSelectRow.goToOptions()"\n                 options="multiSelectRow.options"\n                 events = "multiSelectRow.events"\n                 selected-model="multiSelectRow.selectedOptions"\n                 extra-settings="multiSelectRow.extraSettings"\n                 translation-texts="multiSelectRow.translationTexts"></div>\n        </div>\n    </div>\n</div>\n'),e.put("src/saveButton/save-button-tpl.html",'<span class="save-btn">\n    <button class="btn btn-with-icon" id="the-save-btn"\n            type="submit"\n            ng-click="saveButton.saveFn()"\n            ng-class="{ \'btn-success\' : !saveButton.savingChangesTrigger && !saveButton.unsavedChangesTrigger,\n                        \'btn-warning\' : saveButton.unsavedChangesTrigger && !saveButton.savingChangesTrigger,\n                        \'btn-danger-hover\' : saveButton.savingChangesTrigger}"\n            ng-disabled="!saveButton.unsavedChangesTrigger">\n\n        <!--SAVING-->\n        <div ng-if="saveButton.savingChangesTrigger">\n            <div class="relative-position" ><util-spinner class-name="btn-loading-beacon"></util-spinner></div>\n            <div class="margin-left-20">Saving Changes</div>\n        </div>\n\n        <!--ALL CHANGES UP TO DATE-->\n        <span ng-if="!saveButton.savingChangesTrigger && !saveButton.unsavedChangesTrigger"><i class="lds-icon lds-icon-check"></i> Changes are up to date</span>\n\n        <!--UNSAVED CHANGES-->\n        <span ng-if="saveButton.unsavedChangesTrigger && !saveButton.savingChangesTrigger"><i class="lds-icon lds-icon-warning"></i>Save Changes</span>\n    </button>\n</span>\n')}]);
//# sourceMappingURL=angular-input-utilities.min.js.map
